$(function(){var t=function(t){$.post("/ratings/update/"+t,function(t){var s=t.rating,a=t.id;$("#star-list-"+a).children().each(function(t){s>=t?$(this).attr("class","star"):$(this).attr("class","empty-star")})},"json")};$(".fa-star").on("click",function(s){s.preventDefault();{var a=$(this).closest("a").attr("href"),o=a.split("/")[2];parseInt($(this).closest("li").attr("class").split(" ")[0])}$.get(a,function(t,s){var a=t.already_voted;console.log(s),a===!0?$("#message-"+o).html("You have already voted on this tutorial.").css("color","#944d08"):a===!1&&$("#message-"+o).html("Thank you for voting.").css("color","green")},"json").done(function(){t(o)}).fail(function(){$("#message-"+o).html("Please log in to vote").css("color","#944d08")})})});