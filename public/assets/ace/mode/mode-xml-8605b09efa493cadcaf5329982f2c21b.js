define("ace/mode/xml",["require","exports","module","pilot/oop","ace/mode/text","ace/tokenizer","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml"],function(e,t){var n=e("pilot/oop"),r=e("ace/mode/text").Mode,o=e("ace/tokenizer").Tokenizer,i=e("ace/mode/xml_highlight_rules").XmlHighlightRules,s=e("ace/mode/behaviour/xml").XmlBehaviour,g=function(){this.$tokenizer=new o((new i).getRules()),this.$behaviour=new s};n.inherits(g,r),function(){this.getNextLineIndent=function(e,t){return this.$getIndent(t)}}.call(g.prototype),t.Mode=g}),define("ace/mode/xml_highlight_rules",["require","exports","module","pilot/oop","ace/mode/text_highlight_rules"],function(e,t){var n=e("pilot/oop"),r=e("ace/mode/text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"text",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:"xml_pe",regex:"<\\?.*?\\?>"},{token:"comment",merge:!0,regex:"<\\!--",next:"comment"},{token:"text",regex:"<\\/?",next:"tag"},{token:"text",regex:"\\s+"},{token:"text",regex:"[^<]+"}],tag:[{token:"text",regex:">",next:"start"},{token:"keyword",regex:"[-_a-zA-Z0-9:]+"},{token:"text",regex:"\\s+"},{token:"string",regex:'".*?"'},{token:"string",merge:!0,regex:'["].*$',next:"qqstring"},{token:"string",regex:"'.*?'"},{token:"string",merge:!0,regex:"['].*$",next:"qstring"}],qstring:[{token:"string",regex:".*'",next:"tag"},{token:"string",merge:!0,regex:".+"}],qqstring:[{token:"string",regex:'.*"',next:"tag"},{token:"string",merge:!0,regex:".+"}],cdata:[{token:"text",regex:"\\]\\]>",next:"start"},{token:"text",regex:"\\s+"},{token:"text",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment",regex:".*?-->",next:"start"},{token:"comment",merge:!0,regex:".+"}]}};n.inherits(o,r),t.XmlHighlightRules=o}),define("ace/mode/behaviour/xml",["require","exports","module","pilot/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle"],function(e,t){var n=e("pilot/oop"),r=e("ace/mode/behaviour").Behaviour,o=e("ace/mode/behaviour/cstyle").CstyleBehaviour,i=function(){this.inherit(o,["string_dquotes"]),this.add("brackets","insertion",function(e,t,n,r,o){if("<"==o){var i=n.getSelectionRange(),s=r.doc.getTextRange(i);return""!==s?!1:{text:"<>",selection:[1,1]}}if(">"==o){var g=n.getCursorPosition(),u=r.doc.getLine(g.row),l=u.substring(g.column,g.column+1);if(">"==l)return{text:"",selection:[1,1]}}else if("\n"==o){var g=n.getCursorPosition(),u=r.doc.getLine(g.row),a=u.substring(g.column,g.column+2);if("</"==a){var c=this.$getIndent(r.doc.getLine(g.row))+r.getTabString(),d=this.$getIndent(r.doc.getLine(g.row));return{text:"\n"+c+"\n"+d,selection:[1,c.length,1,c.length]}}}return!1})};n.inherits(i,r),t.XmlBehaviour=i}),define("ace/mode/behaviour/cstyle",["require","exports","module","pilot/oop","ace/mode/behaviour"],function(e,t){var n=e("pilot/oop"),r=e("ace/mode/behaviour").Behaviour,o=function(){this.add("braces","insertion",function(e,t,n,r,o){if("{"==o){var i=n.getSelectionRange(),s=r.doc.getTextRange(i);return""!==s?{text:"{"+s+"}",selection:!1}:{text:"{}",selection:[1,1]}}if("}"==o){var g=n.getCursorPosition(),u=r.doc.getLine(g.row),l=u.substring(g.column,g.column+1);if("}"==l){var a=r.$findOpeningBracket("}",{column:g.column+1,row:g.row});if(null!==a)return{text:"",selection:[1,1]}}}else if("\n"==o){var g=n.getCursorPosition(),u=r.doc.getLine(g.row),l=u.substring(g.column,g.column+1);if("}"==l){var c=r.findMatchingBracket({row:g.row,column:g.column+1});if(!c)return!1;var d=this.getNextLineIndent(e,u.substring(0,u.length-1),r.getTabString()),m=this.$getIndent(r.doc.getLine(c.row));return{text:"\n"+d+"\n"+m,selection:[1,d.length,1,d.length]}}}return!1}),this.add("braces","deletion",function(e,t,n,r,o){var i=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==i){var s=r.doc.getLine(o.start.row),g=s.substring(o.end.column,o.end.column+1);if("}"==g)return o.end.column++,o}return!1}),this.add("parens","insertion",function(e,t,n,r,o){if("("==o){var i=n.getSelectionRange(),s=r.doc.getTextRange(i);return""!==s?{text:"("+s+")",selection:!1}:{text:"()",selection:[1,1]}}if(")"==o){var g=n.getCursorPosition(),u=r.doc.getLine(g.row),l=u.substring(g.column,g.column+1);if(")"==l){var a=r.$findOpeningBracket(")",{column:g.column+1,row:g.row});if(null!==a)return{text:"",selection:[1,1]}}}return!1}),this.add("parens","deletion",function(e,t,n,r,o){var i=r.doc.getTextRange(o);if(!o.isMultiLine()&&"("==i){var s=r.doc.getLine(o.start.row),g=s.substring(o.start.column+1,o.start.column+2);if(")"==g)return o.end.column++,o}return!1}),this.add("string_dquotes","insertion",function(e,t,n,r,o){if('"'==o){var i=n.getSelectionRange(),s=r.doc.getTextRange(i);if(""!==s)return{text:'"'+s+'"',selection:!1};var g=n.getCursorPosition(),u=r.doc.getLine(g.row),l=u.substring(g.column-1,g.column);if("\\"==l)return!1;for(var a,c=r.getTokens(i.start.row,i.start.row)[0].tokens,d=0,m=-1,x=0;x<c.length&&(a=c[x],"string"==a.type?m=-1:0>m&&(m=a.value.indexOf('"')),!(a.value.length+d>i.start.column));x++)d+=c[x].value.length;if(!a||0>m&&"comment"!==a.type&&("string"!==a.type||i.start.column!==a.value.length+d-1&&a.value.lastIndexOf('"')===a.value.length-1))return{text:'""',selection:[1,1]};if(a&&"string"===a.type){var h=u.substring(g.column,g.column+1);if('"'==h)return{text:"",selection:[1,1]}}}return!1}),this.add("string_dquotes","deletion",function(e,t,n,r,o){var i=r.doc.getTextRange(o);if(!o.isMultiLine()&&'"'==i){var s=r.doc.getLine(o.start.row),g=s.substring(o.start.column+1,o.start.column+2);if('"'==g)return o.end.column++,o}return!1})};n.inherits(o,r),t.CstyleBehaviour=o});