define("ace/mode/coffee",["require","exports","module","ace/tokenizer","ace/mode/coffee_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/mode/text","ace/worker/worker_client","pilot/oop"],function(e,t){function n(){this.$tokenizer=new r((new o).getRules()),this.$outdent=new a}var r=e("ace/tokenizer").Tokenizer,o=e("ace/mode/coffee_highlight_rules").CoffeeHighlightRules,a=e("ace/mode/matching_brace_outdent").MatchingBraceOutdent,i=e("ace/range").Range,s=e("ace/mode/text").Mode,c=e("ace/worker/worker_client").WorkerClient,g=e("pilot/oop");g.inherits(n,s),function(){var e=/(?:[({[=:]|[-=]>|\b(?:else|switch|try|catch(?:\s*[$A-Za-z_\x7f-\uffff][$\w\x7f-\uffff]*)?|finally))\s*$/,t=/^(\s*)#/,n=/^\s*###(?!#)/,r=/^\s*/;this.getNextLineIndent=function(t,n,r){var o=this.$getIndent(n),a=this.$tokenizer.getLineTokens(n,t).tokens;return(!a.length||"comment"!==a[a.length-1].type)&&"start"===t&&e.test(n)&&(o+=r),o},this.toggleCommentLines=function(e,o,a,s){console.log("toggle");for(var c=new i(0,0,0,0),g=a;s>=g;++g){var l=o.getLine(g);n.test(l)||(l=t.test(l)?l.replace(t,"$1"):l.replace(r,"$&#"),c.end.row=c.start.row=g,c.end.column=l.length+1,o.replace(c,l))}},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=e.getDocument(),n=new c(["ace","pilot"],"worker-coffee.js","ace/mode/coffee_worker","Worker");n.call("setValue",[t.getValue()]),t.on("change",function(e){e.range={start:e.data.range.start,end:e.data.range.end},n.emit("change",e)}),n.on("error",function(t){e.setAnnotations([t.data])}),n.on("ok",function(){e.clearAnnotations()})}}.call(n.prototype),t.Mode=n}),define("ace/mode/coffee_highlight_rules",["require","exports","module","pilot/oop","ace/mode/text_highlight_rules"],function(e,t){function n(){var e="[$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*",t="(?![$\\w]|\\s*:)",n={token:"string",merge:!0,regex:".+"};this.$rules={start:[{token:"identifier",regex:"(?:@|(?:\\.|::)\\s*)"+e},{token:"keyword",regex:"(?:t(?:h(?:is|row|en)|ry|ypeof)|s(?:uper|witch)|return|b(?:reak|y)|c(?:ontinue|atch|lass)|i(?:n(?:stanceof)?|s(?:nt)?|f)|e(?:lse|xtends)|f(?:or (?:own)?|inally|unction)|wh(?:ile|en)|n(?:ew|ot?)|d(?:e(?:lete|bugger)|o)|loop|o(?:ff?|[rn])|un(?:less|til)|and|yes)"+t},{token:"constant.language",regex:"(?:true|false|null|undefined)"+t},{token:"invalid.illegal",regex:"(?:c(?:ase|onst)|default|function|v(?:ar|oid)|with|e(?:num|xport)|i(?:mplements|nterface)|let|p(?:ackage|r(?:ivate|otected)|ublic)|static|yield|__(?:hasProp|extends|slice|bind|indexOf))"+t},{token:"language.support.class",regex:"(?:Array|Boolean|Date|Function|Number|Object|R(?:e(?:gExp|ferenceError)|angeError)|S(?:tring|yntaxError)|E(?:rror|valError)|TypeError|URIError)"+t},{token:"language.support.function",regex:"(?:Math|JSON|is(?:NaN|Finite)|parse(?:Int|Float)|encodeURI(?:Component)?|decodeURI(?:Component)?)"+t},{token:"identifier",regex:e},{token:"constant.numeric",regex:"(?:0x[\\da-fA-F]+|(?:\\d+(?:\\.\\d+)?|\\.\\d+)(?:[eE][+-]?\\d+)?)"},{token:"string",merge:!0,regex:"'''",next:"qdoc"},{token:"string",merge:!0,regex:'"""',next:"qqdoc"},{token:"string",merge:!0,regex:"'",next:"qstring"},{token:"string",merge:!0,regex:'"',next:"qqstring"},{token:"string",merge:!0,regex:"`",next:"js"},{token:"string.regex",merge:!0,regex:"///",next:"heregex"},{token:"string.regex",regex:"/(?!\\s)[^[/\\n\\\\]*(?: (?:\\\\.|\\[[^\\]\\n\\\\]*(?:\\\\.[^\\]\\n\\\\]*)*\\])[^[/\\n\\\\]*)*/[imgy]{0,4}(?!\\w)"},{token:"comment",merge:!0,regex:"###(?!#)",next:"comment"},{token:"comment",regex:"#.*"},{token:"lparen",regex:"[({[]"},{token:"rparen",regex:"[\\]})]"},{token:"keyword.operator",regex:"\\S+"},{token:"text",regex:"\\s+"}],qdoc:[{token:"string",regex:".*?'''",next:"start"},n],qqdoc:[{token:"string",regex:'.*?"""',next:"start"},n],qstring:[{token:"string",regex:"[^\\\\']*(?:\\\\.[^\\\\']*)*'",next:"start"},n],qqstring:[{token:"string",regex:'[^\\\\"]*(?:\\\\.[^\\\\"]*)*"',next:"start"},n],js:[{token:"string",merge:!0,regex:"[^\\\\`]*(?:\\\\.[^\\\\`]*)*`",next:"start"},n],heregex:[{token:"string.regex",regex:".*?///[imgy]{0,4}",next:"start"},{token:"comment.regex",regex:"\\s+(?:#.*)?"},{token:"string.regex",merge:!0,regex:"\\S+"}],comment:[{token:"comment",regex:".*?###",next:"start"},{token:"comment",merge:!0,regex:".+"}]}}e("pilot/oop").inherits(n,e("ace/mode/text_highlight_rules").TextHighlightRules),t.CoffeeHighlightRules=n}),define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t){var n=e("ace/range").Range,r=function(){};(function(){this.checkOutdent=function(e,t){return/^\s+$/.test(e)?/^\s*\}/.test(t):!1},this.autoOutdent=function(e,t){var r=e.getLine(t),o=r.match(/^(\s*\})/);if(!o)return 0;var a=o[1].length,i=e.findMatchingBracket({row:t,column:a});if(!i||i.row==t)return 0;var s=this.$getIndent(e.getLine(i.row));e.replace(new n(t,0,t,a-1),s)},this.$getIndent=function(e){var t=e.match(/^(\s+)/);return t?t[1]:""}}).call(r.prototype),t.MatchingBraceOutdent=r}),define("ace/worker/worker_client",["require","exports","module","pilot/oop","pilot/event_emitter"],function(e,t){var n=e("pilot/oop"),r=e("pilot/event_emitter").EventEmitter,o=function(t,n,r,o){if(this.callbacks=[],e.packaged){var a=this.$guessBasePath();this.$worker=new Worker(a+n)}else for(var i=this.$normalizePath(e.nameToUrl("ace/worker/worker",null,"_")),s=(this.$worker=new Worker(i),{}),c=0;c<t.length;c++){var g=t[c],l=this.$normalizePath(e.nameToUrl(g,null,"_").replace(/.js$/,""));s[g]=l}this.$worker.postMessage({init:!0,tlns:s,module:r,classname:o}),this.callbackId=1,this.callbacks={};var u=this;this.$worker.onerror=function(e){throw window.console&&console.log&&console.log(e),e},this.$worker.onmessage=function(e){var t=e.data;switch(t.type){case"log":window.console&&console.log&&console.log(t.data);break;case"event":u._dispatchEvent(t.name,{data:t.data});break;case"call":var n=u.callbacks[t.id];n&&(n(t.data),delete u.callbacks[t.id])}}};(function(){n.implement(this,r),this.$normalizePath=function(e){return e.match(/^\w+:/)||(e=location.protocol+"//"+location.host+location.pathname+"/"+e),e},this.$guessBasePath=function(){if(e.aceBaseUrl)return e.aceBaseUrl;for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n++){var r=t[n],o=r.getAttribute("data-ace-base");if(o)return o.replace(/\/*$/,"/");var a=r.src||r.getAttribute("src");if(a){var i=a.match(/^(?:(.*\/)ace\.js|(.*\/)ace-uncompressed\.js)(?:\?|$)/);if(i)return i[1]||i[2]}}return""},this.terminate=function(){this._dispatchEvent("terminate",{}),this.$worker.terminate()},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){this.$worker.postMessage({event:e,data:t})}}).call(o.prototype),t.WorkerClient=o});